version: "3.8"

services:
  telegram-filter-notifai-listen:
    build:
      context: .
      dockerfile: dockerfile.listen
    container_name: telegram-filter-notifai-listen
    volumes:
      - .:/app
      - ./sessions:/app/sessions
    environment:
      - PYROGRAM_SESSION_NAME=telegram_filter_notifai
    command: uv run telegram-filter-notifai listen

  telegram-filter-notifai-broadcast:
    build:
      context: .
      dockerfile: dockerfile.broadcast
    container_name: telegram-filter-notifai-broadcast
    volumes:
      - .:/app
      - ./sessions:/app/sessions
    environment:
      - PYROGRAM_SESSION_NAME=telegram_filter_notifai
    command: uv run telegram-filter-notifai broadcast
